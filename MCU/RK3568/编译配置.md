#### 脚本目录

```
/output/rootfs/target/etc/network  修改配置文件
/buildroot/board/rockchip/rk3566_rk3568/fs-overlay/etc/init.d/  自启动脚本目录
```





#### 编译

```
加载默认配置
make ARCH=arm64 rockchip_linux_defconfig

make ARCH=arm64 menuconfig

修改保存到.config后要覆盖保存回原来的defconfig文件
make ARCH=arm64 savedefconfig

用新生成的defconfig覆盖原来的默认配置
cp defconfig arch/arm64/configs/rockchip_linux_defconfig

./build.sh
```





#### Kernel

RK_BOOT_FIT_ITS=/home/yxw/myproject/rk356x_linux5.1/device/rockchip/.chip/boot.its
RK_BOOT_IMG=boot.img
RK_BUILDROOT=y
RK_BUILDROOT_CFG=rockchip_rk3568
RK_CHIP=rk3568
RK_CHIP_FAMILY=rk3566_rk3568
RK_DEBIAN=y
RK_DEBIAN_ARCH=arm64
RK_DEBIAN_BULLSEYE=y
RK_DEBIAN_VERSION=bullseye
RK_DEFCONFIG=/home/yxw/myproject/rk356x_linux5.1/device/rockchip/.chips/rk3566_rk3568/rockchip_rk3568_evb1_ddr4_v10_defconfig
RK_EXTRA_PARTITION_NUM=2
RK_EXTRA_PARTITION_STR=oem:oem:/oem:ext4:defaults:normal:auto:@userdata:userdata:/userdata:ext4:defaults:normal:auto:@@@
RK_KERNEL=y
RK_KERNEL_ARCH=arm64
RK_KERNEL_CFG=rockchip_linux_defconfig
RK_KERNEL_DTB=kernel/arch/arm64/boot/dts/rockchip/rk3568-evb1-ddr4-v10-linux.dtb
RK_KERNEL_DTS=kernel/arch/arm64/boot/dts/rockchip/rk3568-evb1-ddr4-v10-linux.dts
RK_KERNEL_IMG=kernel/arch/arm64/boot/Image
RK_KERNEL_KBUILD_ARCH=host
RK_KERNEL_VERSION=5.10
RK_KERNEL_VERSION_REAL=5.10
RK_LOADER=y
RK_MISC=y
RK_MISC_BLANK=y
RK_OWNER=yxw
RK_OWNER_UID=1000
RK_PARAMETER=parameter-buildroot-fit.txt
RK_RECOVERY=y
RK_RECOVERY_CFG=rockchip_rk3568_recovery
RK_RECOVERY_FIT_ITS=/home/yxw/myproject/rk356x_linux5.1/device/rockchip/.chip/boot4recovery.its
RK_RECOVERY_INITRD_TYPE=cpio.gz
RK_ROOTFS=y
RK_ROOTFS_ASYNC_COMMIT=y
RK_ROOTFS_DEBUG_INFO=y
RK_ROOTFS_IRQBALANCE=y
RK_ROOTFS_OVERLAY=y
RK_ROOTFS_STRIP_MODULES=y
RK_ROOTFS_SYSTEM=buildroot
RK_ROOTFS_TYPE=ext4
RK_ROOTFS_UDEV_RULES=y
RK_SAVE_TRACKED=y
RK_SESSION=2025-08-06_19-26-30
RK_UBOOT_ARCH=arm64
RK_UBOOT_CFG=rk3568
RK_UPDATE=y
RK_USB_ADBD=y
RK_USB_ADBD_BASH=y
RK_USB_ADBD_TCP_PORT=5555
RK_USE_FIT_IMG=y
RK_WIFIBT_CHIP=ALL_AP
RK_YOCTO=y
RK_YOCTO_CHROMIUM=y
RK_YOCTO_DISPLAY_PLATFORM=wayland
RK_YOCTO_MACHINE=rockchip-rk3568-evb
RK_YOCTO_USBMOUNT=y

Toolchain for kernel:
/home/yxw/myproject/rk356x_linux5.1/prebuilts/gcc/linux-x86/aarch64/gcc-arm-10.3-2021.07-x86_64-aarch64-none-linux-gnu/bin/aarch64-none-linux-gnu-

==========================================
          Start building kernel
==========================================
+ make -C /home/yxw/myproject/rk356x_linux5.1/kernel/ -j9 CROSS_COMPILE=/home/yxw/myproject/rk356x_linux5.1/prebuilts/gcc/linux-x86/aarch64/gcc-arm-10.3-2021.07-x86_64-aarch64-none-linux-gnu/bin/aarch64-none-linux-gnu- ARCH=arm64 rockchip_linux_defconfig

```
export CROSS_COMPILE=/home/yxw/myproject/rk356x_linux5.1/prebuilts/gcc/linux-x86/aarch64/gcc-arm-10.3-2021.07-x86_64-aarch64-none-linux-gnu/bin/aarch64-none-linux-gnu-
 
make ARCH=arm64 rockchip_linux_defconfig
make ARCH=arm64 rk3568-evb1-ddr4-v10-linux.img -j16

救砖模式
	地线连接靠边的刮开的铜线 连接一起

```





#### make menuconfig

kdir -p /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog
make CC="gcc" HOSTCC="gcc" \
    obj=/home/yxw/myproject/rk356x_linux5.1/output/kconf -C /home/yxw/myproject/rk356x_linux5.1/device/rockchip/common/kconfig -f Makefile.br mconf
make[1]: Entering directory '/home/yxw/myproject/rk356x_linux5.1/device/rockchip/common/kconfig'
gcc -D_DEFAULT_SOURCE -D_XOPEN_SOURCE=600 -DCURSES_LOC="<ncurses.h>" -DNCURSES_WIDECHAR=1 -DLOCALE  -I/home/yxw/myproject/rk356x_linux5.1/output/kconf -DCONFIG_=\"\"   -c lxdialog/checklist.c -o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/checklist.o
gcc -D_DEFAULT_SOURCE -D_XOPEN_SOURCE=600 -DCURSES_LOC="<ncurses.h>" -DNCURSES_WIDECHAR=1 -DLOCALE  -I/home/yxw/myproject/rk356x_linux5.1/output/kconf -DCONFIG_=\"\"   -c lxdialog/inputbox.c -o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/inputbox.o
gcc -D_DEFAULT_SOURCE -D_XOPEN_SOURCE=600 -DCURSES_LOC="<ncurses.h>" -DNCURSES_WIDECHAR=1 -DLOCALE  -I/home/yxw/myproject/rk356x_linux5.1/output/kconf -DCONFIG_=\"\"   -c lxdialog/menubox.c -o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/menubox.o
gcc -D_DEFAULT_SOURCE -D_XOPEN_SOURCE=600 -DCURSES_LOC="<ncurses.h>" -DNCURSES_WIDECHAR=1 -DLOCALE  -I/home/yxw/myproject/rk356x_linux5.1/output/kconf -DCONFIG_=\"\"   -c lxdialog/textbox.c -o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/textbox.o
gcc -D_DEFAULT_SOURCE -D_XOPEN_SOURCE=600 -DCURSES_LOC="<ncurses.h>" -DNCURSES_WIDECHAR=1 -DLOCALE  -I/home/yxw/myproject/rk356x_linux5.1/output/kconf -DCONFIG_=\"\"   -c lxdialog/util.c -o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/util.o
gcc -D_DEFAULT_SOURCE -D_XOPEN_SOURCE=600 -DCURSES_LOC="<ncurses.h>" -DNCURSES_WIDECHAR=1 -DLOCALE  -I/home/yxw/myproject/rk356x_linux5.1/output/kconf -DCONFIG_=\"\"   -c lxdialog/yesno.c -o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/yesno.o
gcc -D_DEFAULT_SOURCE -D_XOPEN_SOURCE=600 -DCURSES_LOC="<ncurses.h>" -DNCURSES_WIDECHAR=1 -DLOCALE  -I/home/yxw/myproject/rk356x_linux5.1/output/kconf -DCONFIG_=\"\"   -c mconf.c -o /home/yxw/myproject/rk356x_linux5.1/output/kconf/mconf.o
gcc -D_DEFAULT_SOURCE -D_XOPEN_SOURCE=600 -DCURSES_LOC="<ncurses.h>" -DNCURSES_WIDECHAR=1 -DLOCALE  -I/home/yxw/myproject/rk356x_linux5.1/output/kconf -DCONFIG_=\"\"   /home/yxw/myproject/rk356x_linux5.1/output/kconf/mconf.o /home/yxw/myproject/rk356x_linux5.1/output/kconf/zconf.tab.o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/checklist.o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/util.o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/inputbox.o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/textbox.o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/yesno.o /home/yxw/myproject/rk356x_linux5.1/output/kconf/lxdialog/menubox.o -lncursesw -ltinfo -o /home/yxw/myproject/rk356x_linux5.1/output/kconf/mconf
make[1]: Leaving directory '/home/yxw/myproject/rk356x_linux5.1/device/rockchip/common/kconfig'


*** End of the configuration.
*** Execute 'make' to start the build or try 'make help'.