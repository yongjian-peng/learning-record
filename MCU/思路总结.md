### 串口收发函数

#### 总体思路
```
总体程序设计思路
    串口初始化函数
    发送一个字节函数
    接收一个字节函数

详细程序设计思路（每个函数里面应该怎么写程序）
    初始化函数
    {
        // GPIO 初始化
        // 端口时钟使能
        // 选择端口模式寄存器(复用)
        // 输出速度寄存器
        // 输出类型寄存器
        // 上下拉选择
        // 复用功能寄存器

        // 串口初始化
        // 控制器使能打开
        // 波特率寄存器设置
        // 控制寄存器过采样
        // 控制寄存器字长
        // 控制寄存器发送使能
        // 控制寄存器接收使能
        // 控制寄存器停止位
        // 控制寄存器使能打开

    }
```

#### 发送函数
```
    发送一个字节函数
    {
        // 等待发送一个字节已完成（发送寄存器已自动置1）
        // 将发送的一个字节赋值给数据寄存器
        
        // 发送状态寄存器
        // 接收状态寄存器
    }

    u8 接收一个字节函数
    {
        // 等待接收一个字节已完成（接收寄存器已自动置1）
        // 读取接数据存器的值赋值给变量
        // 返回接收值
    }
```


#### 相关函数
```

u8 str[] = "Hello World \r\n";

// 发送一个字符串函数
无返回值
void usart1_send_str(u8 *str)
{
    while(*str != '\0')
    {
        usart1_send_byte(*str);
        str++;
    }
}

u8 str[10];
// 接收一个字符串函数
// 无返回值
void usart1_rec_str(u8 *str)
{

    while(1)
    {
        *str = usart1_rec_byte();
        if (*str == '#')
        {
            break;
        }
        str++;
    }

    *str = '\0';
}

```
